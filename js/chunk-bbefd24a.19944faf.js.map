{"version":3,"sources":["webpack:///./src/components/Contact.vue?8820","webpack:///./src/components/Contact.vue","webpack:///./src/components/Contact.vue?7bc3"],"names":["class","id","type","name","value","submitContactInfo","contactInfo","firstName","validateInput","placeholder","required","lastName","email","invalidEmail","phone","comments","rows","cols","helperHint","setup","contactState","loaded","fireCollection","collection","clearForm","getAdditionalDetails","addressLink","text","url","fetch","then","res","data","dataObj","trim","replace","JSON","parse","ip","sendToDiscord","catch","e","console","log","fullname","method","headers","body","stringify","username","avatar_url","embeds","color","author","title","thumbnail","description","fields","status","sendToFirebase","add","error","window","navigator","onLine","input","test","render","__scopeId"],"mappings":"kHAAA,W,wICYaA,MAAM,oB,GACHC,GAAG,U,EACR,eAA0E,YAApE,eAA8D,SAAvDC,KAAK,SAASC,KAAK,SAASF,GAAG,SAASG,MAAM,a,KAGlE,eAAyB,OAApBH,GAAG,YAAU,S,qIAflB,eAcO,QAdDA,GAAG,SAAU,SAAM,gDAAU,EAAAI,mBAAA,EAAAA,kBAAA,qBAAiB,e,gBAChD,eAAqL,S,qDAArK,EAAAC,YAAYC,UAAS,IAAG,QAAK,+BAAE,EAAAC,cAAa,wBAAwBN,KAAK,OAAOD,GAAG,aAAaE,KAAK,aAAaH,MAAM,WAAWS,YAAY,aAAaC,SAAA,I,mBAA5J,EAAAJ,YAAYC,a,eAC5B,eAA4K,S,qDAA5J,EAAAD,YAAYK,SAAQ,IAAG,QAAK,+BAAE,EAAAH,cAAa,uBAAuBN,KAAK,OAAOD,GAAG,YAAYE,KAAK,YAAYH,MAAM,WAAWS,YAAY,kB,mBAA3I,EAAAH,YAAYK,Y,eAC5B,eAIiG,S,qDAJjF,EAAAL,YAAYM,MAAK,IAC9B,OAAI,+BAAE,EAAAJ,cAAa,mBACnBR,MAAK,kBAAsB,EAAAa,cAEc,YAA1CX,KAAK,OAAOD,GAAG,QAAQE,KAAK,QAAyBM,YAAY,qBAAqBC,SAAA,I,kBAJxE,EAAAJ,YAAYM,S,eAK5B,eAAqK,S,qDAArJ,EAAAN,YAAYQ,MAAK,IAAG,QAAK,+BAAE,EAAAN,cAAa,oBAAoBN,KAAK,OAAOD,GAAG,QAAQE,KAAK,QAAQH,MAAM,WAAWS,YAAY,eAAeC,SAAA,I,mBAA5I,EAAAJ,YAAYQ,S,eAC5B,eAAyI,Y,qDAAtH,EAAAR,YAAYS,SAAQ,IAAad,GAAG,WAAWE,KAAK,WAAWa,KAAK,IAAIC,KAAK,KAAKR,YAAY,c,mBAA9F,EAAAH,YAAYS,U,MAC/B,eAGM,MAHN,EAGM,CAFH,eAA8C,MAA9C,EAA8C,CAA5B,eAAqB,wBAAhB,EAAAG,YAAU,KACjC,K,IAGP,G,qHAWW,GACXC,MADW,WAGT,IAAMC,EAAe,eAAI,OAAQhB,MAAM,YACvC,gBAAU,WACNgB,EAAahB,MAAMiB,QAAS,KAKhC,IAAMC,EAAiB,OAAOC,WAAW,YAGnCV,EAAe,gBAAI,GAEnBK,EAAa,eAAI,IAEjBZ,EAAc,eAAI,CACvBC,UAAY,GACZI,SAAW,GACXC,MAAQ,GACRE,MAAQ,GACRC,SAAW,KAGZ,SAASS,IACPlB,EAAYF,MAAMG,UAAYD,EAAYF,MAAMO,SAAWL,EAAYF,MAAMQ,MACzEN,EAAYF,MAAMU,MAAQR,EAAYF,MAAMW,SAAW,GAI7D,SAASU,IACP,IAAIC,EAAU,oCADe,SAGdC,EAHc,gGAG7B,WAAoBC,GAApB,0GACSC,MAAMD,GAAKE,MAAK,SAAAC,GAAE,OAAKA,EAAIJ,WADpC,2CAH6B,wBAO7BA,EAAK,4CAA4CG,MAAK,SAAAE,GAIpD,IAAIC,EAAU,KAAOD,EAAKE,OAAOC,QAAQ,MAApB,SAAoCA,QAAQ,KAA5C,OAAP,KAEdF,EAAUG,KAAKC,MAAMJ,GAErB,IAAIK,EAAKL,EAAQK,GAEjBZ,EAAc,UAAGA,GAAH,OAAiBY,EAAjB,YAAuBN,EAAKG,QAAQ,MAAO,MAAOA,QAAQ,MAAO,KAE/EI,EAAcb,MACbc,OAAM,SAACC,GACRC,QAAQC,IAAI,wCACZD,QAAQC,IAAIF,GACZf,EAAc,GACda,EAAcb,MAIlB,SAASa,EAAcb,GAErB,IAAIkB,EAAyC,IAA9BtC,EAAYF,MAAMO,SAAlB,UAAsCL,EAAYF,MAAMO,SAAxD,SACfiC,GAAsBtC,EAAYF,MAAMG,UAGxCsB,MACE,OACA,CACEgB,OAAQ,OAAQC,QAAS,CAAE,eAAgB,oBAC3CC,KAAMX,KAAKY,UAAU,CACnBC,SAAU,MACVC,WAAY,mGACZC,OAAQ,CACN,CAAEC,MAAO,OAAQC,OAAQ,CAAElD,KAAMyC,EAAUhB,IAAKF,GAAc4B,MAAO,UACnEC,UAAW,CAAE3B,IAAK,8FAClB4B,YAAalD,EAAYF,MAAMW,SAC/B0C,OAAQ,CACN,CAAEtD,KAAM,QAASC,MAAOE,EAAYF,MAAMQ,OAC1C,CAAET,KAAM,QAASC,MAAOE,EAAYF,MAAMU,cAElDgB,MAAK,SAAA4B,GACLhB,QAAQC,IAAI,wBACZzB,EAAWd,MAAX,0CAGFoC,OAAM,SAACC,GACLC,QAAQC,IAAR,yCACAD,QAAQC,IAAIF,MAIlB,SAASkB,IACPrC,EAAesC,IAAItD,EAAYF,OAAO0B,MAAM,SAAC4B,GAE3ChB,QAAQC,IAAI,0BACZzB,EAAWd,MAAX,uCACAoB,OACCgB,OAAM,SAACqB,GACNnB,QAAQmB,MAAM,0BAA2BA,GACzC3C,EAAWd,MAAX,gDACAoB,OAKN,SAASnB,IACHQ,EAAaT,OACfsC,QAAQC,IAAI,iBACZzB,EAAWd,MAAQ,iBACX0D,OAAOC,UAAUC,OAGa,IAA/B1D,EAAYF,MAAMG,WAA8C,IAA3BD,EAAYF,MAAMQ,OAC5D8B,QAAQC,IAAI,qBACZzB,EAAWd,MAAQ,iCAGnBsC,QAAQC,IAAI,UACZlB,IACAkC,MATFjB,QAAQC,IAAI,eACZzB,EAAWd,MAAQ,6BAYvB,SAASI,EAAcyD,EAAM/D,GAC3BwC,QAAQC,IAAIrC,EAAYF,MAAM6D,IAClB,WAAT/D,EACDI,EAAYF,MAAM6D,GAAS3D,EAAYF,MAAM6D,GAAO9B,QAAQ,cAAe,IAC1D,WAATjC,EACRI,EAAYF,MAAM6D,GAAS3D,EAAYF,MAAM6D,GAAO9B,QAAQ,WAAY,IACxD,UAATjC,IACNI,EAAYF,MAAM6D,GAAS3D,EAAYF,MAAM6D,GAAO/B,OAChD,uEAAuEgC,KAAK5D,EAAYF,MAAM6D,KAAuC,IAA5B3D,EAAYF,MAAM6D,IAC7HvB,QAAQC,IAAI,SACZ9B,EAAaT,OAAQ,EACG,kBAArBc,EAAWd,QACZc,EAAWd,MAAQ,MAGrBsC,QAAQC,IAAI,WACZzB,EAAWd,MAAQ,gBACnBS,EAAaT,OAAQ,IAK5B,MAAO,CACGC,oBACAG,gBACAK,eACAP,cACAY,gB,UC7KhB,EAAOiD,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB","file":"js/chunk-bbefd24a.19944faf.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Contact.vue?vue&type=style&index=0&id=317fb173&scoped=true&lang=scss\"","<template>\n    <!-- <p>I'm looking for Flutter or Vue jobs right now!</p> -->\n    <form id=\"myForm\" @submit.prevent=\"submitContactInfo\">\n        <input v-model=\"contactInfo.firstName\" @input=\"validateInput('firstName','string')\" type=\"text\" id=\"first_name\" name=\"first_name\" class=\"required\" placeholder=\"Your Name*\" required>\n        <input v-model=\"contactInfo.lastName\" @input=\"validateInput('lastName','string')\" type=\"text\" id=\"last_name\" name=\"last_name\" class=\"required\" placeholder=\"Your Last Name\">\n        <input v-model=\"contactInfo.email\" \n          @blur=\"validateInput('email','email')\" \n          :class=\"{ 'email-invalid' : invalidEmail }\"\n          \n          type=\"text\" id=\"email\" name=\"email\" class=\"required\" placeholder=\"example@email.com*\" required>\n        <input v-model=\"contactInfo.phone\" @input=\"validateInput('phone','number')\" type=\"text\" id=\"phone\" name=\"phone\" class=\"required\" placeholder=\"Phone Number\" required>\n        <textarea v-model=\"contactInfo.comments\" v-autogrow id=\"comments\" name=\"comments\" rows=\"5\" cols=\"30\" placeholder=\"Say Hello!\"></textarea>\n        <div class='submit-container'>\n           <div id='helper'> <p>{{helperHint}}</p> </div>\n           <div> <input type=\"submit\" name=\"submit\" id=\"submit\" value=\"Submit\"></div>\n        </div>\n    </form>\n    <div id=\"#results\"></div>\n</template>\n\n<script>\n// https://codepen.io/alecherryy/pen/LQXEXG\nimport { onMounted, ref } from 'vue'\nimport {fireDB} from '../scripts/firebase'\nimport {DISCORD_WEBHOOK_LINK} from '../store/keys'\nimport {windows} from '../store/state'\n\n\nexport default {\n    setup(){\n\n      const contactState = ref(windows.value['contact'])\n      onMounted(() =>{\n          contactState.value.loaded = true;\n      })\n\n\n      // const docPath = 'contacts/AUPM1sdOVilTiwxq5UCW'\n      const fireCollection = fireDB.collection('contacts')\n      // const fireData = ref(null)\n\n      const invalidEmail = ref(false)\n\n      const helperHint = ref('')\n\n      const contactInfo = ref({\n       firstName : '',\n       lastName : '',\n       email : '',\n       phone : '',\n       comments : '',\n      })\n\n      function clearForm(){\n        contactInfo.value.firstName = contactInfo.value.lastName = contactInfo.value.email \n          = contactInfo.value.phone = contactInfo.value.comments = ''\n      }\n\n\n      function getAdditionalDetails(){\n        let addressLink = `https://whatismyipaddress.com/ip/`\n\n        async function text(url) {\n          return fetch(url).then(res => res.text());\n        }\n\n        text('https://www.cloudflare.com/cdn-cgi/trace').then(data => {\n          // console.log(data)\n          // let ipRegex = /[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}/\n          // let ip = data.match(ipRegex)[0];\n          let dataObj = `{\"` + data.trim().replace(/\\n/g, `\",\\n\"`).replace(/=/g, `\":\"`) + `\"}`\n          // console.log(dataObj)\n          dataObj = JSON.parse(dataObj)\n          // console.log(dataObj)\n          let ip = dataObj.ip\n          // console.log(dataObj.ip);\n          addressLink = `${addressLink}${ip}&${data.replace(/\\n/g, \"&\")}`.replace(/\\s/g, '_')\n          // console.log(addressLink)\n          sendToDiscord(addressLink)\n        }).catch((e) => {\n          console.log('ERROR: could not get additional info')\n          console.log(e)\n          addressLink = ''\n          sendToDiscord(addressLink)\n        });\n      }\n\n      function sendToDiscord(addressLink){\n        // https://gist.github.com/dragonwocky/ea61c8d21db17913a43da92efe0de634\n        let fullname = contactInfo.value.lastName != '' ? `${contactInfo.value.lastName}, ` : ``\n        fullname = fullname + contactInfo.value.firstName \n\n\n        fetch(\n          DISCORD_WEBHOOK_LINK,\n          {\n            method: 'post', headers: { 'Content-Type': 'application/json'},\n            body: JSON.stringify({\n              username: 'ash',\n              avatar_url: 'https://cdn.discordapp.com/attachments/832596849402839070/832596902074908672/ash_the_mailman.png',\n              embeds: [\n                { color: 171159, author: { name: fullname, url: addressLink}, title: 'Message',\n                  thumbnail: { url: 'https://cdn.discordapp.com/attachments/832596849402839070/832606302042980432/ashs_cat_.png'},\n                  description: contactInfo.value.comments,\n                  fields: [\n                    { name: 'Email', value: contactInfo.value.email},\n                    { name: 'Phone', value: contactInfo.value.phone, },\n            ],},],}),}\n          ).then(status => {\n            console.log('data sent to discord')\n            helperHint.value = `Submitted! I'll get back to you ASAP`\n            // console.log(status)\n          }).\n          catch((e) => {\n            console.log(`ERROR: could not send data to discord`)\n            console.log(e)\n          });\n      }\n\n      function sendToFirebase(){\n        fireCollection.add(contactInfo.value).then( (status) => {\n          // console.log(status)\n          console.log('data sent to firestore')\n          helperHint.value = `Submitted! I'll get back to you ASAP`\n          clearForm()\n        }).catch((error) => {\n            console.error(\"Error adding document: \", error);\n            helperHint.value = `Error uploading data. Please try again later.`\n            clearForm()\n        });\n      }\n\n\n      function submitContactInfo(){\n        if (invalidEmail.value){\n          console.log('invalid email')\n          helperHint.value = 'Invalid Email'\n        }else if(!window.navigator.onLine){\n          console.log('no internet')\n          helperHint.value = 'Check Internet Connection'\n        }else if(contactInfo.value.firstName == '' || contactInfo.value.email == '' ){\n            console.log('pls fill required')\n            helperHint.value = 'Please fill required details'\n        }\n        else{\n            console.log('submit')\n            getAdditionalDetails()\n            sendToFirebase()\n        }\n      }\n\n      function validateInput(input,type){\n        console.log(contactInfo.value[input])\n        if(type === 'string'){\n          contactInfo.value[input] = contactInfo.value[input].replace(/[^a-zA-Z]+/g, \"\");\n        }else if (type === 'number'){\n          contactInfo.value[input] = contactInfo.value[input].replace(/[^0-9]+/g, \"\");\n        }else if(type === 'email'){\n           contactInfo.value[input] = contactInfo.value[input].trim()\n           if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(contactInfo.value[input]) && contactInfo.value[input] != '' ){\n             console.log('valid')\n             invalidEmail.value = false\n             if(helperHint.value === 'Invalid Email'){\n               helperHint.value = ''\n             }\n           }else{\n             console.log('invalid')\n             helperHint.value = 'Invalid Email'\n             invalidEmail.value = true\n           }\n        }\n      }\n\n      return {\n                submitContactInfo,\n                validateInput,\n                invalidEmail,\n                contactInfo,\n                helperHint\n      }\n    }\n}\n\n</script>\n\n\n<style scoped lang='scss'>\n\nbody {\n  width: 100%;\n  height: 100%;\n  /* background-color: #fab1a0; */\n  font-family: \"Open Sans\", Arial, sans-serif;\n  overflow-x: hidden; \n  padding: 0;\n  padding: 6em 0;\n}\n\nform {\n    margin: 0 auto;\n    max-width: 400px;\n    overflow: hidden;\n    margin-bottom: 80px;\n}\n\ninput {\n  color: #000;\n  display: block;\n  margin: 2em 0 0;\n  box-shadow: none;\n  overflow: hidden;\n  border: none;\n  /* background-color: #fab1a0; */\n  font-size: 24px;\n  font-family: \"Open Sans\", Helvetica, sans-serif;\n  box-sizing: border-box;\n  border-bottom: solid 1px #eaeaea;\n  padding: 0 0 .5em;\n  width: 100%;\n  outline: 0;\n  text-align: center;\n\n    &:focus::placeholder {\n        color: #808080;\n    }\n\n    &:hover::placeholder {\n        color: black;\n    }\n\n    &:focus {\n        border-bottom: solid 1px #000;\n    }\n\n    transition: all 0.7s ease-out;\n}\n\n.email-invalid {\n  border-bottom: solid 2px #f50057;\n  transition : none;\n}\n\n\ntextarea {\n  font-family: 'Open Sans', sans-serif;\n  color: #000;\n  margin: 2em 0 0;\n  height: 150px;\n  font-size: 24px;\n  /* background-color: #fab1a0; */\n  border: none;\n  box-sizing: border-box;\n  border-bottom: solid 1px #fff;\n  width: 100%;\n  background-color: transparent;\n  resize: none;\n  outline: none;\n  border: none;\n  text-align: center;\n  scrollbar-width: thin;\n\n    &:focus::placeholder {\n        color: #808080;\n    }\n}\n\nlabel.error {\n  position: absolute;\n  font-family: \"Open Sans\", Arial, sans-serif;\n  font-size: 12px;\n  margin: 8px 0px 0px 15px;\n  box-shadow: none;\n}\n\n#submit {\n  width: 80%;\n  height: 40px;\n  font-family: \"Open Sans\", Arial, sans-serif;\n  font-size: 36px;\n  text-align: right;\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #808080;\n  transition: all 0.4s ease-in;\n  -webkit-transition: all 0.4s ease-in;\n  -moz-transition: all 0.4s ease-in;\n  -o-transition: all 0.4s ease-in;\n  font-family: 'Open Sans', sans-serif;\n  margin: 0;\n\n    &:hover,\n    &:focus {\n    color: #000;\n    }\n}\n\n\n::placeholder {\n  color: #2d3436;\n}\n\n#helper{\n  text-align: right;\n  font-size: 22px;\n  color: #ec7bb0;\n  height: auto;\n}\n\n#comments{\n  overflow-y:scroll;\n}\n\n</style>","import { render } from \"./Contact.vue?vue&type=template&id=317fb173&scoped=true\"\nimport script from \"./Contact.vue?vue&type=script&lang=js\"\nexport * from \"./Contact.vue?vue&type=script&lang=js\"\n\nimport \"./Contact.vue?vue&type=style&index=0&id=317fb173&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-317fb173\"\n\nexport default script"],"sourceRoot":""}